---
tags:
  - study
  - ì´í™í‹°ë¸Œìë°”
title: " wait ì™€ notify ë³´ë‹¤ëŠ” ë™ì‹œì„± ìœ í‹¸ë¦¬í‹°ë¥¼ ì• ìš©í•˜ë¼"
chapter: ì•„ì´í…œ 81
---
##  `wait` ì™€ `notify` ë³´ë‹¤ëŠ” ë™ì‹œì„± ìœ í‹¸ë¦¬í‹°ë¥¼ ì• ìš©í•˜ë¼

### í•µì‹¬
- `wait` ì™€ `notify` ë¥¼ ì§ì ‘ ì‚¬ìš©í•˜ëŠ” ê²ƒì„ ë™ì‹œì„± 'ì–´ì…ˆë¸”ë¦¬ ì–¸ì–´'ë¡œ í”„ë¡œê·¸ë˜ë° í•˜ëŠ” ê²ƒì— ë¹„ìœ í•  ìˆ˜ ìˆë‹¤. 
- ë°˜ë©´ `java.util.concurrent` ëŠ” ê³ ìˆ˜ì¤€ ì–¸ì–´ì— ë¹„ìœ í•  ìˆ˜ ìˆë‹¤. ì½”ë“œë¥¼ ìƒˆë¡œ ì‘ì„±í•œë‹¤ë©´ `wait` ì™€ `notify` ë¥¼ ì“¸ ì´ìœ ê°€ ê±°ì˜ ì—†ë‹¤. 
- ì´ë“¤ì„ ì‚¬ìš©í•˜ëŠ” ë ˆê±°ì‹œ ì½”ë“œë¥¼ ìœ ì§€ë³´ìˆ˜ í•´ì•¼ í•œë‹¤ë©´ `wait`ëŠ” í•­ìƒ í‘œì¤€ ê´€ìš©êµ¬ì— ë”°ë¼ `while` ë¬¸ ì•ˆì—ì„œ í˜¸ì¶œí•˜ë„ë¡ í•˜ì. ì¼ë°˜ì ìœ¼ë¡œ `notify` ë³´ë‹¤ëŠ” `notifyAll` ì„ ì‚¬ìš©í•´ì•¼ í•œë‹¤. í˜¹ì‹œë¼ë„ `notify`ë¥¼ ì‚¬ìš©í•œë‹¤ë©´ ì‘ë‹µ ë¶ˆê°€ ìƒíƒœì— ë¹ ì§€ì§€ ì•Šë„ë¡ ê°ë³„íˆ ì£¼ì˜í•˜ì
### `wait` ì™€ `notify`
- ì§€ê¸ˆì€ `wait`ì™€ `notify`ë¥¼ ì‚¬ìš©í•´ì•¼ í•  ì´ìœ ê°€ ë§ì´ ì¤„ì—ˆë‹¤.
- ìë°” 5ì—ì„œ ë„ì…ëœ ê³ ìˆ˜ì¤€ì˜ ë™ì‹œì„± ìœ í‹¸ë¦¬í‹°ê°€ ì´ì „ì´ë¼ë©´ `wait`ì™€ `notify`ë¡œ í•˜ë“œì½”ë”©í•´ì•¼ í–ˆë˜ ì „í˜•ì ì¸ ì¼ë“¤ì„ ëŒ€ì‹  ì²˜ë¦¬í•´ì£¼ê¸° ë•Œë¬¸ì´ë‹¤.
- `wait`ì™€ `notify`ëŠ” ì˜¬ë°”ë¥´ê²Œ ì‚¬ìš©í•˜ê¸° ê¹Œë‹¤ë¡œìš°ë‹ˆ ê³ ìˆ˜ì¤€ ë™ì‹œì„± ìœ í‹¸ë¦¬í‹°ë¥¼ ì‚¬ìš©í•˜ì.
- `java.util.concurrent`ì˜ ê³ ìˆ˜ì¤€ ìœ í‹¸ë¦¬í‹°ëŠ” ì„¸ ë²”ì£¼ë¡œ ë‚˜ëˆŒ ìˆ˜ ìˆë‹¤.
    - ì‹¤í–‰ì í”„ë ˆì„ì›Œí¬
    - ë™ì‹œì„± ì»¬ë ‰ì…˜(`concurrent collection`)
    - ë™ê¸°í™” ì¥ì¹˜(`synchronizer`)
### ë™ì‹œì„± ì»¬ë ‰ì…˜
- `List`, `Queue`, `Map` ê°™ì€ í‘œì¤€ ì»¬ë ‰ì…˜ ì¸í„°í˜ì´ìŠ¤ì— ë™ì‹œì„±ì„ ê°€ë¯¸í•´ êµ¬í˜„í•œ ê³ ì„±ëŠ¥ ì»¬ë ‰ì…˜ì´ë‹¤.
- ë†’ì€ ë™ì‹œì„±ì— ë„ë‹¬í•˜ê¸° ìœ„í•´ ë™ê¸°í™”ë¥¼ ê°ìì˜ ë‚´ë¶€ì—ì„œ ìˆ˜í–‰í•œë‹¤.
- ë”°ë¼ì„œ ë™ì‹œì„± ì»¬ë ‰ì…˜ì—ì„œ ë™ì‹œì„±ì„ ë¬´ë ¥í™”í•˜ëŠ”ê±´ ë¶ˆê°€ëŠ¥í•˜ë‹¤.
- ì™¸ë¶€ì—ì„œ ë½ì„ ì¶”ê°€ë¡œ ì‚¬ìš©í•˜ë©´ ì˜¤íˆë ¤ ì†ë„ê°€ ëŠë ¤ì§„ë‹¤.
- ë™ì‹œì„±ì„ ë¬´ë ¥í™”í•˜ì§€ ëª»í•˜ë¯€ë¡œ ì—¬ëŸ¬ ë©”ì„œë“œë¥¼ ì›ìì ìœ¼ë¡œ ë¬¶ì–´ í˜¸ì¶œí•˜ëŠ” ê²ƒì€ ë¶ˆê°€ëŠ¥í•˜ë‹¤.
	- ì›ìì  ì—°ì‚° -> í•˜ë‚˜ì˜ ì—°ì‚°ì´ ì¤‘ê°„ì— ëŠê¸°ê±°ë‚˜ ìŠ¤ë ˆë“œê°€ ê°œì…í•  ìˆ˜ ì—†ì´, í•œë²ˆì— ì‹¤í–‰ë˜ëŠ” ì—°ì‚°
	- ë™ì‹œì„± ì»¬ë ‰ì…˜ì€ ë©”ì„œë“œ ë‹¨ìœ„ë¡œ ë™ê¸°í™” ëœë‹¤. -> ì—¬ëŸ¬ê°œ ë©”ì„œë“œ ì‹¤í–‰ì‹œ ì›ì‚¬ì • ë³´ì¥ X
- ê·¸ë¦¬í•˜ì—¬ ì—¬ëŸ¬ ê¸°ë³¸ ë™ì‘ì„ í•˜ë‚˜ì˜ ì›ìì  ë™ì‘ìœ¼ë¡œ ë¬¶ëŠ” â€˜ìƒíƒœ ì˜ì¡´ì  ìˆ˜ì •â€™ ë©”ì„œë“œë“¤ì´ ì¶”ê°€ë˜ì—ˆë‹¤.
- ì´ ë©”ì„œë“œë“¤ì€ ì•„ì£¼ ìœ ìš©í•´ì„œ ìë°” 8ì—ì„œëŠ” ì¼ë°˜ ì»¬ë ‰ì…˜ ì¸í„°í˜ì´ìŠ¤ì—ë„ ë””í´íŠ¸ ë©”ì„œë“œ í˜•íƒœë¡œ ì¶”ê°€ë˜ì—ˆë‹¤.

#### ConcurrentMap
```java
// 81-1
public class Intern {
    // Concurrent canonicalizing map atop ConcurrentMap - not optimal
    private static final ConcurrentMap<String, String> map =
            new ConcurrentHashMap<>();

    public static String intern(String s) {
        String previousValue = map.putIfAbsent(s, s);
        return previousValue == null ? s : previousValue;
    }
```
- `Map`ì˜ `putIfAbsent(key, value)` ë©”ì„œë“œëŠ” ì£¼ì–´ì§„ í‚¤ì— ë§¤í•‘ëœ ê°’ì´ ì—†ì„ë•Œë§Œ ìƒˆ ê°’ì„ ë„£ëŠ”ë‹¤.
- ì´ ë©”ì„œë“œ ë•ì— ìŠ¤ë ˆë“œ ì•ˆì „í•œ ì •ê·œí™” ë§µì„ ì‰½ê²Œ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤.

```java 
// 81-2
    // Concurrent canonicalizing map atop ConcurrentMap - faster!
    public static String intern(String s) {
        String result = map.get(s);
        if (result == null) {
            result = map.putIfAbsent(s, s);
            if (result == null)
                result = s;
        }
        return result;
    }
}
```
- `ConcurrentHashMap`ì€ `get` ê°™ì€ ê²€ìƒ‰ ê¸°ëŠ¥ì— ìµœì í™”ë˜ì—ˆë‹¤.
- ë”°ë¼ì„œ, `get`ì„ ë¨¼ì € í˜¸ì¶œí•˜ì—¬ í•„ìš”í•  ë•Œë§Œ `putIfAbsent`ë¥¼ í˜¸ì¶œí•˜ë©´ ë” ë¹ ë¥´ë‹¤.
- `ConcurrentHashMap` ì€ ë™ì‹œì„±ì´ ë›°ì–´ë‚˜ë©° ì†ë„ë„ ë¬´ì²™ ë¹ ë¥´ë‹¤.
- ë™ì‹œì„± ì»¬ë ‰ì…˜ì€ ë™ê¸°í™” ì»¬ë ‰ì…˜ì„ ë‚¡ì€ ìœ ì‚°ìœ¼ë¡œ ë§Œë“¤ì—ˆë‹¤. ì˜ˆ) `synchronizedMap`

#### `BlockingQueue`
- ì‘ì—…ì´ ì„±ê³µì ìœ¼ë¡œ ì™„ë£Œë ë•Œê¹Œì§€ ê¸°ë‹¤ë¦¬ë„ë¡(ì¦‰, ì°¨ë‹¨ë˜ë„ë¡) í™•ì¥ë˜ì—ˆë‹¤.
- ì˜ˆë¡œ, `Queue`ë¥¼ í™•ì¥í•œ `BlockingQueue`ì— ì¶”ê°€ëœ ë©”ì„œë“œ ì¤‘ takeëŠ” íì˜ ì²« ì›ì†Œë¥¼ êº¼ë‚¸ë‹¤.
- ì´ ë•Œ, ë§Œì•½ íê°€ ë¹„ì–´ìˆë‹¤ë©´ ìƒˆë¡œìš´ ì›ì†Œê°€ ì¶”ê°€ë  ë•Œê¹Œì§€ ê¸°ë‹¤ë¦°ë‹¤.
- ì‹¤í–‰ì ì„œë¹„ìŠ¤ êµ¬í˜„ì²´ì—ì„œ `BlockingQueue` ë¥¼ ì‚¬ìš©í•œë‹¤.

### ë™ê¸°í™” ì¥ì¹˜
- ìŠ¤ë ˆë“œê°€ ë‹¤ë¥¸ ìŠ¤ë ˆë“œë¥¼ ê¸°ë‹¤ë¦¬ê²Œ í•  ìˆ˜ ìˆê²Œ í•˜ì—¬, ì„œë¡œ ì‘ì—…ì„ ì¡°ìœ¨í•  ìˆ˜ ìˆê²Œ í•´ì¤€ë‹¤.
- ê°€ì¥ ìì£¼ ì“°ì´ëŠ” ë™ê¸°í™” ì¥ì¹˜ëŠ” `CountDownLatch` ì™€ `Semaphore`ë‹¤.
- `CyclicBarrier` ì™€ `Exchanger` ëŠ” ê·¸ë³´ë‹¤ ëœ ì“°ì¸ë‹¤. ê·¸ë¦¬ê³  ê°€ì¥ ê°•ë ¥í•œ ë™ê¸°í™” ì¥ì¹˜ëŠ” `Phaser`
#### `CountDownLatch`
- ì¼íšŒì„± ì¥ë²½ìœ¼ë¡œ, í•˜ë‚˜ ì´ìƒì˜ ìŠ¤ë ˆë“œê°€ ë˜ ë‹¤ë¥¸ í•˜ë‚˜ ì´ìƒì˜ ìŠ¤ë ˆë“œ ì‘ì—…ì´ ëë‚ ë•Œê¹Œì§€ ê¸°ë‹¤ë¦¬ê²Œ í•œë‹¤.
- `CountDownLatch`ì˜ ìœ ì¼í•œ ìƒì„±ìëŠ” `int` ê°’ì„ ë°›ìœ¼ë©°, ì´ ê°’ì´ ë˜ì¹˜ì˜ `countDown` ë©”ì„œë“œë¥¼ ëª‡ ë²ˆ í˜¸ì¶œí•´ì•¼ ëŒ€ê¸° ì¤‘ì¸ ìŠ¤ë ˆë“œë“¤ì„ ê¹¨ìš°ëŠ”ì§€ë¥¼ ê²°ì •í•œë‹¤.
```java
// 81-3
public class ConcurrentTimer {  
    private ConcurrentTimer() { } // Noninstantiable  
  
    public static long time(Executor executor, int concurrency,  
                            Runnable action) throws InterruptedException {  
        CountDownLatch ready = new CountDownLatch(concurrency);  
        CountDownLatch start = new CountDownLatch(1);  
        CountDownLatch done  = new CountDownLatch(concurrency);  
  
        for (int i = 0; i < concurrency; i++) {  
            executor.execute(() -> {  
                ready.countDown(); // Tell timer we're ready  
                try {  
                    start.await(); // Wait till peers are ready  
                    action.run();  
                } catch (InterruptedException e) {  
                    Thread.currentThread().interrupt();  
                } finally {  
                    done.countDown();  // Tell timer we're done  
                }  
            });  
        }  
  
        ready.await();     // Wait for all workers to be ready  
        long startNanos = System.nanoTime();  
        start.countDown(); // And they're off!  
        done.await();      // Wait for all workers to finish  
        return System.nanoTime() - startNanos;  
    }  
  
    public static void main(String[] args) throws InterruptedException {  
        int concurrency = 5; // ì‹¤í–‰í•  ìŠ¤ë ˆë“œ ê°œìˆ˜  
        ExecutorService executor = Executors.newFixedThreadPool(concurrency);  
  
        long timeTaken = ConcurrentTimer.time(executor, concurrency, () -> {  
            try {  
                Thread.sleep(1000); // ê° ìŠ¤ë ˆë“œê°€ 1ì´ˆ ë™ì•ˆ ì‘ì—…  
            } catch (InterruptedException ignored) {}  
            System.out.println(Thread.currentThread().getName() + " ì™„ë£Œ!");  
        });  
  
        System.out.println("ì´ ì‹¤í–‰ ì‹œê°„: " + timeTaken / 1_000_000 + "ms");  
  
        executor.shutdown();  
    }  
}
```
- ì´Â ì½”ë“œëŠ” ì¹´ìš´íŠ¸ë‹¤ìš´Â ë˜ì¹˜ë¥¼Â 3ê°œ ì‚¬ìš©í•œë‹¤.
- ready ë˜ì¹˜ëŠ” ì‘ì—…ì ìŠ¤ë ˆë“œë“¤ì´ ì¤€ë¹„ê°€ ì™„ë£ŒëìŒì„ íƒ€ì´ë¨¸ ìŠ¤ë ˆë“œì— í†µì§€í•  ë•Œ ì‚¬ìš©í•œë‹¤.
- í†µì§€ë¥¼ ëë‚¸ ì‘ì—…ì ìŠ¤ë ˆë“œë“¤ì€ ë‘ ë²ˆì§¸ ë˜ì¹˜ì¸ startê°€ ì—´ë¦¬ê¸°ë¥¼ ê¸°ë‹¤ë¦°ë‹¤.
- ë§ˆì§€ë§‰ ì‘ì—…ìÂ ìŠ¤ë ˆë“œê°€Â ready.countDownì„Â í˜¸ì¶œí•˜ë©´ íƒ€ì´ë¨¸ ìŠ¤ë ˆë“œê°€ ì‹œì‘ ì‹œê°ì„ ê¸°ë¡í•˜ê³ Â start.countDownì„ í˜¸ì¶œí•˜ì—¬ ê¸°ë‹¤ë¦¬ë˜Â ì‘ì—…ìÂ ìŠ¤ë ˆë“œë“¤ì„ ê¹¨ìš´ë‹¤.
- ê·¸Â ì§í›„ íƒ€ì´ë¨¸ ìŠ¤ë ˆë“œëŠ” ì„¸ ë²ˆì§¸ ë˜ì¹˜ì¸Â doneì´ ì—´ë¦¬ê¸°ë¥¼ ê¸°ë‹¤ë¦°ë‹¤.doneÂ ë˜ì¹˜ëŠ”Â ë§ˆì§€ë§‰Â ë‚¨ì€ ì‘ì—…ìÂ ìŠ¤ë ˆë“œê°€ ë™ì‘ì„ ë§ˆì¹˜ê³ Â done.countDownì„Â í˜¸ì¶œí•˜ë©´ ì—´ë¦°ë‹¤.
- íƒ€ì´ë¨¸ ìŠ¤ë ˆë“œëŠ”Â doneÂ ë˜ì¹˜ê°€ ì—´ë¦¬ìë§ˆìÂ ê¹¨ì–´ë‚˜ ì¢…ë£ŒÂ ì‹œê°ì„ ê¸°ë¡í•œë‹¤.

#### Phaser
```java
public static void main(String[] args) {
    Phaser phaser = new Phaser(3);  // ğŸ”¹ 3ê°œì˜ ìŠ¤ë ˆë“œë¥¼ ë“±ë¡  
  
    for (int i = 1; i <= 3; i++) {  
        final int taskNum = i;  
        new Thread(() -> {  
            doTask("Step 1", taskNum, phaser);  
            doTask("Step 2", taskNum, phaser);  
            doTask("Step 3", taskNum, phaser);  
        }).start();  
    }  
}  
  
private static void doTask(String step, int taskNum, Phaser phaser) {  
    System.out.println("Task " + taskNum + " - " + step);  
    phaser.arriveAndAwaitAdvance();  // ğŸ”¹ ëª¨ë“  ìŠ¤ë ˆë“œê°€ ë„ì°©í•  ë•Œê¹Œì§€ ê¸°ë‹¤ë¦¼  
}
```

```java 
// executorService ì™€ ê°™ì´ ì‚¬ìš©
public static void main(String[] args) {  
    int numWorkers = 5;  
    Phaser phaser = new Phaser(1); 
    ExecutorService executor = Executors.newFixedThreadPool(numWorkers);  
  
    for (int i = 0; i < numWorkers; i++) {  
        phaser.register(); // ì‘ì—…ì ë™ì ìœ¼ë¡œ ë“±ë¡  
  
        executor.execute(() -> {  
            String threadName = Thread.currentThread().getName();  
  
            System.out.println(threadName + " - Step 1");  
            phaser.arriveAndAwaitAdvance(); // Step 1 ì™„ë£Œ í›„ ëŒ€ê¸°  
  
            System.out.println(threadName + " - Step 2");  
            phaser.arriveAndAwaitAdvance(); // Step 2 ì™„ë£Œ í›„ ëŒ€ê¸°  
  
            System.out.println(threadName + " - Step 3");  
            phaser.arriveAndDeregister(); // Step 3 ì™„ë£Œ í›„ ë“±ë¡ í•´ì œ  
        });  
    }  
  
    // ë©”ì¸ ìŠ¤ë ˆë“œë„ phaserì—ì„œ ì œê±°  
    phaser.arriveAndDeregister();  
  
    // ëª¨ë“  ì‘ì—…ì´ ëë‚  ë•Œê¹Œì§€ ëŒ€ê¸°  
    executor.shutdown();  
    // ìµœëŒ€ 10ì´ˆë™ì•ˆ ëª¨ë“  ìŠ¤ë ˆë“œê°€ ì¢…ë£Œë˜ê¸¸ ê¸°ë‹¤ë¦¼
    try {  
        executor.awaitTermination(10, TimeUnit.SECONDS);  
    } catch (InterruptedException e) {  
        Thread.currentThread().interrupt();  
    }  
  
    System.out.println("ëª¨ë“  ì‘ì—… ì¢…ë£Œ");  
}
```
- **íŒŒí‹°(Parties)** Phaserì— ë“±ë¡ëœ ì‘ì—…(ìŠ¤ë ˆë“œ) ê°œìˆ˜
- **ìŠ¤ë ˆë“œ(Thread)** ì‹¤ì œ ì‹¤í–‰ë˜ëŠ” ê°œë³„ ìŠ¤ë ˆë“œ (Thread ê°ì²´)
- **ì‘ì—…(Tasks)** ìŠ¤ë ˆë“œì—ì„œ ì‹¤í–‰í•˜ëŠ” íŠ¹ì • ë¡œì§ (ex: doTask())
- Phaserë¥¼ ì‚¬ìš©í•  ë•Œ **í˜„ì¬ ì‹¤í–‰ë  ìŠ¤ë ˆë“œ ìˆ˜ë§Œí¼ íŒŒí‹° ìˆ˜ë¥¼ ë§ì¶”ëŠ” ê²ƒì´ ì¤‘ìš”í•¨.**
- ìŠ¤ë ˆë“œ ê°œìˆ˜ë¥¼ ë¯¸ë¦¬ ëª¨ë¥´ë”ë¼ë„, register()ì™€ deregister()ë¥¼ ì´ìš©í•´ **ë™ì ìœ¼ë¡œ ì¡°ì • ê°€ëŠ¥.**
### waitì™€ notifyë¥¼ ì–¸ì œ ì‚¬ìš©í•˜ë‚˜?
- ìƒˆë¡œìš´ ì½”ë“œë¼ë©´ ì–¸ì œë‚˜ waitì™€ notifyê°€ ì•„ë‹Œ ë™ì‹œì„± ìœ í‹¸ë¦¬í‹°ë¥¼ ì¨ì•¼ í•œë‹¤.
- í•˜ì§€ë§Œ ì–´ì©” ìˆ˜ ì—†ì´ ë ˆê±°ì‹œ ì½”ë“œë¥¼ ë‹¤ë¤„ì•¼ í•  ë•Œë„ ìˆë‹¤.
- wait ë©”ì„œë“œëŠ” ìŠ¤ë ˆë“œê°€ ì–´ë–¤ ì¡°ê±´ì´ ì¶©ì¡±ë˜ê¸°ë¥¼ ê¸°ë‹¤ë¦¬ê²Œ í•  ë•Œ ì‚¬ìš©í•œë‹¤.
- ë½ ê°ì²´ì˜ wait ë©”ì„œë“œëŠ” ë°˜ë“œì‹œ ê·¸ ê°ì²´ë¥¼ ì ê·¼ ë™ê¸°í™” ì˜ì—­ ì•ˆì—ì„œ í˜¸ì¶œí•´ì•¼ í•œë‹¤.
- waitë¥¼ ì‚¬ìš©í•˜ëŠ” í‘œì¤€ ë°©ì‹ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.
```java
synchronized (obj) { 
	while (<ì¡°ê±´ì´ ì¶©ì¡±ë˜ì§€ ì•Šì•˜ë‹¤>) 
		obj.wait();  // (ë½ì„ ë†“ê³ , ê¹¨ì–´ë‚˜ë©´ ë‹¤ì‹œ ì¡ëŠ”ë‹¤.) 
	... // ì¡°ê±´ì´ ì¶©ì¡±ëì„ ë•Œì˜ ë™ì‘ì„ ìˆ˜í–‰í•œë‹¤. 
}
```
- wait ë©”ì„œë“œë¥¼ ì‚¬ìš©í•  ë•ŒëŠ” ë°˜ë“œì‹œ ëŒ€ê¸° ë°˜ë³µë¬¸(wait loop) ê´€ìš©êµ¬ë¥¼ ì‚¬ìš©í•˜ë¼.ë°˜ë³µë¬¸ ë°–ì—ì„œëŠ” ì ˆëŒ€ë¡œ í˜¸ì¶œí•˜ì§€ ë§ì.
### notify vs notifyAll
- ì¼ë°˜ì ìœ¼ë¡œ ì–¸ì œë‚˜ notifyAllì„ ì‚¬ìš©í•˜ë¼ëŠ” ê²Œ í•©ë¦¬ì ì´ê³  ì•ˆì „í•œ ì¡°ì–¸ì´ ë  ê²ƒì´ë‹¤.
- ì™¸ë¶€ë¡œ ê³µê°œëœ ê°ì²´ì— ëŒ€í•´ ì‹¤ìˆ˜ë¡œ í˜¹ì€ ì•…ì˜ì ìœ¼ ë¡œ notifyë¥¼ í˜¸ì¶œí•˜ëŠ” ìƒí™©ì— ëŒ€ë¹„í•˜ê¸° ìœ„í•´ waitë¥¼ ë°˜ë³µë¬¸ ì•ˆì—ì„œ í˜¸ì¶œí–ˆ ë“¯, notify ëŒ€ì‹  notifyAllì„ ì‚¬ìš©í•˜ë©´ ê´€ë ¨ ì—†ëŠ” ìŠ¤ë ˆë“œê°€ ì‹¤ìˆ˜ë¡œ í˜¹ì€ ì•…ì˜ì ìœ¼ë¡œ waitë¥¼ í˜¸ì¶œí•˜ëŠ” ê³µê²©ìœ¼ë¡œë¶€í„° ë³´í˜¸í•  ìˆ˜ ìˆë‹¤.