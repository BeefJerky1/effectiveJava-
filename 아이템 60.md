---
tags:
  - study
  - 이펙티브자바
title: 정확한 답이 필요하다면 `float`와 `double`은 피하라
chapter: 아이템 60
---
## 정확한 답이 필요하다면 `float`와 `double`은 피하라

### 핵심
- 정확한 답이 필요한 계산에는 `float` 나 `double`을 피하라. 
- 소수점 추적은 시스템에 맡기고, 고딩시의 불편함이나 성능 저하를 신경쓰지 않겠다면 `BigDecimal`을 사용하라. `BigDecimal`이 제공하는 여덟가지 반올림 모드를 이용하여 반올림을 완벽하게 제어할 수 있다. 법으로 정해진 반올림을 수행해야 하는 비즈니스 계산에는 아주 편리한 기능이다.
- 반면, 성능이 중요하고 소수점을 직접 추적할 수 있고 숫자가 너무 크지 않다면 `int` 나 `long`을 사용하라. 숫자를 아홉자리 십진수로 표현할 수 있다면 `int` 를 사용하고, 열여덟 자리 십진수로 표현할 수 있다면 `long` 을 사용하라. 열여덟자리를 넘어가면 `BigDecimal` 을 사용해야 한다.

### `float` 과 `double`
- `float` 과 `double` 은 이진 부동소수점 연산에 쓰여 근사치로 계산하도록 설계된 타입이다.
- 특히 금융 관련 계산과는 맞지않다.

### `BigDecimal`
- 금융계산에서 `BigDecimal`, `int` 혹은 `long` 을 사용해야 한다.
- `BigDecimal` 의 생성자중 반드시 문자열로 숫자를 받는 생성자를 사용하자. 계산시 부정확한 값이 사용되는 것을 막기 위해 필요한 조치다. 
#### 단점
- 기본 타입보다 쓰기가 훨씬 불편하고 느리다.
#### 대안
- `int` 와 `long`
- 다를 수 있는 값의 크기가 제한된다.
- 소수점을 직접 관리해야 한다.